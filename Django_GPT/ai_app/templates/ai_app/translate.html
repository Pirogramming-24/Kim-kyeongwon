{% extends 'ai_app/base.html' %}

{% block title %}ë²ˆì—­ - AI ì›¹ ì„œë¹„ìŠ¤{% endblock %}

{% block content %}
<h2 style="color: #2c3e50; margin-bottom: 20px;">ğŸŒ ì˜ì–´ â†’ í•œêµ­ì–´ ë²ˆì—­</h2>
<p style="color: #7f8c8d; margin-bottom: 30px;">ì˜ì–´ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ AIê°€ í•œêµ­ì–´ë¡œ ë²ˆì—­í•´ë“œë¦½ë‹ˆë‹¤. (ë¡œê·¸ì¸ í•„ìš”)</p>

<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="input_text">ë²ˆì—­í•  ì˜ì–´ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:</label>
        <textarea 
            name="input_text" 
            id="input_text" 
            rows="6" 
            placeholder="Enter English text here..."
            required
        ></textarea>
    </div>
    <button type="submit">ë²ˆì—­í•˜ê¸°</button>
    <div class="loading">ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...</div>
</form>

{% if error %}
<div class="error">
    <strong>ì˜¤ë¥˜:</strong> {{ error }}
</div>
{% endif %}

{% if result %}
<div class="result">
    <h3>ë²ˆì—­ ê²°ê³¼:</h3>
    <p style="white-space: pre-wrap;">{{ result }}</p>
</div>
{% endif %}

{% if history %}
<div class="history">
    <h3>ìµœê·¼ ë²ˆì—­ ë‚´ì—­ (ìµœëŒ€ 5ê°œ)</h3>
    {% for item in history %}
    <div class="history-item">
        <p><strong>ì˜ì–´:</strong> {{ item.input_text }}</p>
        <p><strong>í•œêµ­ì–´:</strong> {{ item.output_text }}</p>
        <p style="color: #95a5a6; font-size: 12px;">{{ item.created_at|date:"Y-m-d H:i" }}</p>
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}